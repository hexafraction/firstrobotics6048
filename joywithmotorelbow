#pragma config(Hubs,  S1, HTMotor,  HTServo,  HTMotor,  none)
#pragma config(Sensor, S1,     ,               sensorI2CMuxController)
#pragma config(Sensor, S3,     light,          sensorNone)
#pragma config(Sensor, S4,     sonar,          sensorNone)
#pragma config(Motor,  motorB,           ,             tmotorNXT, PIDControl, reversed, encoder)
#pragma config(Motor,  mtr_S1_C1_1,     motorE,        tmotorTetrix, openLoop)
#pragma config(Motor,  mtr_S1_C1_2,     motorD,        tmotorTetrix, openLoop, reversed)
#pragma config(Motor,  mtr_S1_C3_1,     motorF,        tmotorTetrix, openLoop)
#pragma config(Motor,  mtr_S1_C3_2,     motorG,        tmotorTetrix, openLoop, reversed)
#pragma config(Servo,  srvo_S1_C2_1,    topservo,             tServoStandard)
#pragma config(Servo,  srvo_S1_C2_2,    leftservo,            tServoStandard)
#pragma config(Servo,  srvo_S1_C2_3,    rightservo,           tServoStandard)
#pragma config(Servo,  srvo_S1_C2_4,    servo4,               tServoNone)
#pragma config(Servo,  srvo_S1_C2_5,    servo5,               tServoNone)
#pragma config(Servo,  srvo_S1_C2_6,    servo6,               tServoNone)
//*!!Code automatically generated by 'ROBOTC' configuration wizard               !!*//

/************************************\
|*  ROBOTC Virtual World            *|
|*                                  *|
|*  DO NOT OVERWR

ITE THIS FILE      *|
|*  MAKE SURE TO "SAVE AS" INSTEAD  *|
\************************************/


#include "JoystickDriver.c";
int t=0;
int x=0;
task main()
{
  waitForStart() ;
	while(x<11)
	{
		motor[motorD]=50;
		motor[motorE]=50;
		wait1Msec(500);
		motor[motorD]=-50;
		motor[motorE]=-50;
		wait1Msec(500);
		x=x+1;
	}
	motor[motorD]=50;
	motor[motorE]=-50;
	wait1Msec(10000);

	while(t<11)
	{
		motor[motorD]=50;
		motor[motorE]=50;
		wait1Msec(500);
		motor[motorD]=-50;
		motor[motorE]=-50;
		wait1Msec(500);
		t=t+1;
	}


	while(true)
	{
		getJoystickSettings(joystick);


		motor[motorD] = joystick.joy1_y1;
		motor[motorE] = joystick.joy1_y2;

	/*shoulder of arm (controlled by triggers)*/
		if (joy1Btn(7) == 1)
			{
				motor[motorF] = 27;
		}
		else if (joy1Btn(6) == 1)
			{
				motor[motorF] = -27;
			}
		else
			{
				motor[motorF]=0;
			}

		/*elbow of arm (controlled by d pad)*/

		if(joystick.joy1_TopHat == 0)
			{
				servoChangeRate[leftservo] = 0;servoChangeRate[leftservo] = 10;
				servoChangeRate[rightservo] = 10;
				servoChangeRate[rightservo] = 0;
				servo[leftservo]=-100;
				servo[rightservo]=100;
			}

		if (joystick.joy1_TopHat == 4)
			{
				servoChangeRate[leftservo] = 0;
				servoChangeRate[rightservo] = 0;
				servo[leftservo]=100;
				servo[rightservo]=-100;
			}
		/*wrist of arm(controlled by Y and A)*/
		if(joy1Btn(3) == 1)
			{
				servo[topservo]=100;
			}
		if(joy1Btn(1) == 1)
			{
				servo[topservo]=-100;
			}

	}


}
